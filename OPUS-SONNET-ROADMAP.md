# üé≠ OPUS-SONNET Workflow - Roadmap –ø—Ä–æ–µ–∫—Ç–∞ MyTeens.Space

**–î–∞—Ç–∞:** 10 –Ω–æ—è–±—Ä—è 2025  
**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø:** MVP –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≥–æ—Ç–æ–≤, –∂–¥–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –º–æ–¥—É–ª—å –æ—Ç Opus

---

## üéØ –ö–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º

### –°—Ö–µ–º–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ç—Ä—É–¥–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  OPUS 4.1 (–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫/–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä)                        ‚îÇ
‚îÇ  - –ü—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç (—É—Ä–æ–∫–∏, —Ç–µ–∫—Å—Ç—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä—É)           ‚îÇ
‚îÇ  - –ü—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—Ç UI/UX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤                            ‚îÇ
‚îÇ  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É API                               ‚îÇ
‚îÇ  - –°–æ–∑–¥–∞–µ—Ç –¥–∏–∑–∞–π–Ω-–¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚Üì –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∏–∑–∞–π–Ω
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SONNET 4.0 (–†–µ–∞–ª–∏–∑–∞—Ç–æ—Ä/–ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ç–æ—Ä)                      ‚îÇ
‚îÇ  - –ß–∏—Ç–∞–µ—Ç –¥–∏–∑–∞–π–Ω-–¥–æ–∫—É–º–µ–Ω—Ç—ã –æ—Ç Opus                          ‚îÇ
‚îÇ  - –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º                           ‚îÇ
‚îÇ  - –ü–∏—à–µ—Ç –∫–æ–¥, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã                        ‚îÇ
‚îÇ  - –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—á–µ–º—É —Ç–∞–∫:
- **Opus** - –±–æ–ª–µ–µ "—É–º–Ω–∞—è" –º–æ–¥–µ–ª—å, –ª—É—á—à–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- **Sonnet** - agent mode, –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ tools, –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∞–π–ª–∞–º–∏
- **Opus –ù–ï –ú–û–ñ–ï–¢ —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã** - —Ç–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—Ç –≤ —á–∞—Ç–µ
- **Sonnet –ù–ï –î–û–õ–ñ–ï–ù –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç** - —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –¥–∏–∑–∞–π–Ω

---

## ‚úÖ –ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û (Sonnet)

### 1. Telegram Mini App –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ

**–§–∞–π–ª—ã:**
- `frontend/src/main.tsx` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `WebApp.ready()`, `WebApp.expand()`
- `frontend/package.json` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `@twa-dev/sdk`

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Telegram WebView
- –î–æ—Å—Ç—É–ø –∫ Telegram user data —á–µ—Ä–µ–∑ SDK

---

### 2. –•—É–∫ useTelegram ‚úÖ

**–§–∞–π–ª:** `frontend/src/hooks/useTelegram.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
```typescript
const {
  user,              // Telegram user object (id, name, username)
  isReady,           // WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
  initData,          // –°—Ç—Ä–æ–∫–∞ initData –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  hapticFeedback,    // –¢–∞–∫—Ç–∏–ª—å–Ω—ã–µ –æ—â—É—â–µ–Ω–∏—è (light, medium, heavy)
  notificationFeedback, // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (success, error, warning)
  showMainButton,    // –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
  hideMainButton,    // –°–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
  showBackButton,    // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥
  hideBackButton,    // –°–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥
  close,             // –ó–∞–∫—Ä—ã—Ç—å Mini App
  openLink,          // –û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É
  WebApp             // –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ SDK
} = useTelegram();
```

---

### 3. –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π (4 —Ä–æ–ª–∏) ‚úÖ

**–§–∞–π–ª:** `backend/models.py`

**–†–æ–ª–∏:**
```python
class UserRole(str, Enum):
    STUDENT = "student"           # –£—á–µ–Ω–∏–∫ - –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Ä–æ–∫–∏
    PARENT = "parent"             # –†–æ–¥–∏—Ç–µ–ª—å (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥) - —Å–ª–µ–¥–∏—Ç –∑–∞ —Ä–µ–±–µ–Ω–∫–æ–º
    PARENT_LEARNING = "parent_learning"  # –†–æ–¥–∏—Ç–µ–ª—å (–æ–±—É—á–µ–Ω–∏–µ) - —É—á–∏—Ç—Å—è —Å–∞–º
    CURATOR = "curator"           # –ö—É—Ä–∞—Ç–æ—Ä - —É–ø—Ä–∞–≤–ª—è–µ—Ç –≥—Ä—É–ø–ø–æ–π
```

**–ó–∞—á–µ–º 4 —Ä–æ–ª–∏:**
- –†–æ–¥–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –ª–∏–±–æ —Ç–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å, –ª–∏–±–æ –µ—â–µ –∏ —É—á–∏—Ç—å—Å—è —Å–∞–º
- –†–∞–∑–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π

---

### 4. Telegram –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (backend) ‚úÖ

**–§–∞–π–ª—ã:**
- `backend/telegram_auth.py` - –≤–∞–ª–∏–¥–∞—Ü–∏—è HMAC –ø–æ–¥–ø–∏—Å–∏ –æ—Ç Telegram
- `backend/server.py` - endpoint `/api/auth/telegram-login`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# 1. Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç initData –æ—Ç Telegram
POST /api/auth/telegram-login
Body: { 
  init_data: "query_id=...", 
  selected_role: "student" 
}

# 2. Backend –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç HMAC —á–µ—Ä–µ–∑ Bot Token
validate_telegram_webapp_data(init_data, bot_token)

# 3. –ü–∞—Ä—Å–∏—Ç user data
telegram_user = parse_telegram_user_data(init_data)
# { telegram_id, first_name, last_name, username }

# 4. –°–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç user
user = {
  id: uuid,
  telegram_id: "123456",
  name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  role: "student",
  ...
}
```

**–í–∞–∂–Ω–æ:** –í–∞–ª–∏–¥–∞—Ü–∏—è HMAC —Å–µ–π—á–∞—Å –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞)

---

### 5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ —Ä–æ–ª–∏ ‚úÖ

**–§–∞–π–ª:** `frontend/src/pages/RoleSelection.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å 4 —Ä–æ–ª—è–º–∏
- –ò–∫–æ–Ω–∫–∏ –∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `useTelegram` —Ö—É–∫–æ–º
- Haptic feedback –ø—Ä–∏ –≤—ã–±–æ—Ä–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage + –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ backend
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –¥–∞—à–±–æ—Ä–¥

**–†–æ—É—Ç—ã:**
- student ‚Üí `/`
- parent ‚Üí `/parent`
- parent_learning ‚Üí `/parent-learning`
- curator ‚Üí `/curator`

---

### 6. –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã —Å ProtectedRoute ‚úÖ

**–§–∞–π–ª:** `frontend/src/App.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
```tsx
const ProtectedRoute = ({ children, allowedRoles }) => {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ userId –≤ localStorage
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  // –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /role-selection –µ—Å–ª–∏ –Ω–µ—Ç userId
  // –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –µ—Å–ª–∏ —Ä–æ–ª—å –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –∫–æ –≤—Å–µ–º —Ä–æ—É—Ç–∞–º:
<Route path="/" element={
  <ProtectedRoute allowedRoles={['student']}>
    <Index />
  </ProtectedRoute>
} />
```

**DEV —Ä–µ–∂–∏–º:**
```typescript
const DEV_MODE = true; // –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É
// TODO: –ü–æ—Å—Ç–∞–≤–∏—Ç—å false –ø–µ—Ä–µ–¥ production!
```

---

### 7. –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚úÖ

**–§–∞–π–ª:** `frontend/public/test-auth.html`

**–î–ª—è —á–µ–≥–æ:**
- –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π –±–µ–∑ Telegram
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤—Ö–æ–¥–∞ –∫–∞–∫ student/parent/curator
- –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü–æ–∫–∞–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞

**URL:** `http://localhost:3000/my-teens-space-c8a9ba43/test-auth.html`

---

### 8. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

**–§–∞–π–ª—ã:**
- `AGENTS.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤ (1200+ —Å—Ç—Ä–æ–∫)
- `OPUS_TASK.md` - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è Opus
- `OPUS-SONNET-ROADMAP.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª
- `.github/copilot-instructions.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞

**–†–∞–∑–¥–µ–ª—ã –≤ AGENTS.md:**
- –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ (Telegram Mini App)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (frontend + backend)
- 44 —É—Ä–æ–∫–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- –ö–æ–ª–µ—Å–æ –±–∞–ª–∞–Ω—Å–∞
- –¢—Ä–∏ –¥–∞—à–±–æ—Ä–¥–∞ (student, parent, curator)
- MongoDB –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- API endpoints
- –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è
- **Workflow Opus‚ÜíSonnet** (–Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª!)

---

## ‚ùå –ß–¢–û –ù–ï –°–î–ï–õ–ê–ù–û (–∂–¥–µ–º –æ—Ç Opus)

### 1. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —É—Ä–æ–∫–∏ üì¢ –ù–£–ñ–ï–ù OPUS

**–§–∞–π–ª:** `frontend/src/data/parentLessonsData.ts` (–Ω–µ —Å–æ–∑–¥–∞–Ω)

**–ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç Opus:**

20-30 —É—Ä–æ–∫–æ–≤ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤ 12-17 –ª–µ—Ç –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

```typescript
{
  id: 'parent-communication-w1-1',
  title: '–ê–∫—Ç–∏–≤–Ω–æ–µ —Å–ª—É—à–∞–Ω–∏–µ',
  description: '–£—á–∏–º—Å—è —Å–ª—ã—à–∞—Ç—å –ø–æ–¥—Ä–æ—Å—Ç–∫–∞',
  module: 'parent-communication',  // 4 –º–æ–¥—É–ª—è
  week: 1,
  xp: 50,
  questions: [
    {
      type: 'choice' | 'input' | 'slider' | 'multiple',
      question: '–í–æ–ø—Ä–æ—Å...',
      options: ['–í–∞—Ä–∏–∞–Ω—Ç 1', '–í–∞—Ä–∏–∞–Ω—Ç 2'],
      correctAnswer: '–í–∞—Ä–∏–∞–Ω—Ç 1',
      explanation: '–ü–æ—á–µ–º—É...',
      katyaResponse: '–û—Ç–ª–∏—á–Ω—ã–π –æ—Ç–≤–µ—Ç! üíö'
    }
  ],
  completionMessage: '–ú–æ–ª–æ–¥–µ—Ü! üéâ'
}
```

**–ú–æ–¥—É–ª–∏ (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ):**
1. **communication** (–æ–±—â–µ–Ω–∏–µ) - 8 —É—Ä–æ–∫–æ–≤
   - –ê–∫—Ç–∏–≤–Ω–æ–µ —Å–ª—É—à–∞–Ω–∏–µ
   - –Ø-—Å–æ–æ–±—â–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –æ–±–≤–∏–Ω–µ–Ω–∏–π
   - –≠–º–ø–∞—Ç–∏—è –∫ –ø–æ–¥—Ä–æ—Å—Ç–∫—É
   - –ù–µ–≤–µ—Ä–±–∞–ª—å–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ
   
2. **emotional-support** (—ç–º–æ—Ü. –ø–æ–¥–¥–µ—Ä–∂–∫–∞) - 7 —É—Ä–æ–∫–æ–≤
   - –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤—ã—Ö —ç–º–æ—Ü–∏–π
   - –ö–∞–∫ –Ω–µ –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∞
   - –†–∞–±–æ—Ç–∞ —Å –≥–Ω–µ–≤–æ–º –ø–æ–¥—Ä–æ—Å—Ç–∫–∞
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–∞—Ö
   
3. **boundaries-parenting** (–≥—Ä–∞–Ω–∏—Ü—ã –≤ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–∏) - 8 —É—Ä–æ–∫–æ–≤
   - –ë–∞–ª–∞–Ω—Å –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ —Å–≤–æ–±–æ–¥—ã
   - –ö–æ–≥–¥–∞ –¥–∞–≤–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤–º–µ—Å—Ç–µ
   - –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å vs —Å–µ–∫—Ä–µ—Ç—ã
   
4. **conflict-resolution** (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤) - 7 —É—Ä–æ–∫–æ–≤
   - –¢–µ—Ö–Ω–∏–∫–∏ –¥–µ—ç—Å–∫–∞–ª–∞—Ü–∏–∏
   - –ü–æ–∏—Å–∫ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å—Å–æ—Ä—ã
   - –ö–∞–∫ –∏–∑–≤–∏–Ω—è—Ç—å—Å—è –ø–µ—Ä–µ–¥ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–º

**–¢–æ–Ω –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
- –í–∑—Ä–æ—Å–ª—ã–π, –Ω–æ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π
- –ë–µ–∑ –º–µ–Ω—Ç–æ—Ä—Å—Ç–≤–∞ –∏ –ø–æ—É—á–µ–Ω–∏–π
- –° –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏–∑ –∂–∏–∑–Ω–∏
- –° –Ω–∞—É—á–Ω—ã–º –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º (–Ω–µ–π—Ä–æ–±–∏–æ–ª–æ–≥–∏—è –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤)

**–ó–∞–¥–∞—á–∞ Sonnet –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è:**
- –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `parentLessonsData.ts`
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ `allLessonsData.ts`
- –í—Å—Ç–∞–≤–∏—Ç—å —É—Ä–æ–∫–∏ –æ—Ç Opus
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Ä–æ–∫–∞–º

---

### 2. ParentHub.tsx üì¢ –ù–£–ñ–ï–ù OPUS

**–§–∞–π–ª:** `frontend/src/pages/ParentHub.tsx` (–Ω–µ —Å–æ–∑–¥–∞–Ω)

**–ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç Opus:**

–î–∏–∑–∞–π–Ω —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—è —Å –¥–≤—É–º—è —Å–µ–∫—Ü–∏—è–º–∏:

**–°–µ–∫—Ü–∏—è 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ—Ç–µ–π**
```tsx
<Tab label="–ú–æ–∏ –¥–µ—Ç–∏ üë®‚Äçüë©‚Äçüëß">
  {/* –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–µ—Ç–µ–π */}
  <ChildrenList>
    {children.map(child => (
      <ChildCard>
        <Avatar src={child.photo_url} />
        <Name>{child.name}</Name>
        <Stats>
          <Progress>{child.completedLessons}/{child.totalLessons}</Progress>
          <Level>–£—Ä–æ–≤–µ–Ω—å {child.level}</Level>
          <Streak>{child.streak} –¥–Ω–µ–π üî•</Streak>
        </Stats>
        <BalanceWheelMini data={child.balanceScores} />
        <Button onClick={() => openChildDetails(child.id)}>
          –ü–æ–¥—Ä–æ–±–Ω–µ–µ
        </Button>
      </ChildCard>
    ))}
  </ChildrenList>
  
  {/* –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–±–µ–Ω–∫–∞ */}
  <AddChildButton onClick={() => setShowAddChild(true)}>
    + –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±–µ–Ω–∫–∞
  </AddChildButton>
</Tab>
```

**–°–µ–∫—Ü–∏—è 2: –ú–æ–µ –æ–±—É—á–µ–Ω–∏–µ**
```tsx
<Tab label="–ú–æ–µ –æ–±—É—á–µ–Ω–∏–µ üìö">
  {/* –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–æ–¥–∏—Ç–µ–ª—è */}
  <MyProgress>
    <XP>{parentXP} XP</XP>
    <Level>–£—Ä–æ–≤–µ–Ω—å {parentLevel}</Level>
    <Streak>{parentStreak} –¥–Ω–µ–π</Streak>
  </MyProgress>
  
  {/* –ú–æ–¥—É–ª–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π */}
  <ModulesGrid>
    {parentModules.map(module => (
      <ModuleCard 
        id={module.id}
        name={module.name}
        progress={module.progress}
        icon={module.icon}
        onClick={() => navigate(`/parent-learning/${module.id}`)}
      />
    ))}
  </ModulesGrid>
</Tab>
```

**–ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π `ParentDashboard.tsx` –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è —Å–µ–∫—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- Tabs –æ—Ç shadcn/ui
- –ö–∞—Ä—Ç–æ—á–∫–∏ –º–æ–¥—É–ª–µ–π –∫–∞–∫ –≤ `Index.tsx`
- WheelOfBalance –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–µ—Ç–µ–π

**–ó–∞–¥–∞—á–∞ Sonnet –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è:**
- –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –ø–æ –¥–∏–∑–∞–π–Ω—É Opus
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–µ–π –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

---

### 3. ParentLearning.tsx üì¢ –ù–£–ñ–ï–ù OPUS

**–§–∞–π–ª:** `frontend/src/pages/ParentLearning.tsx` (–Ω–µ —Å–æ–∑–¥–∞–Ω)

**–ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç Opus:**

–î–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —É—Ä–æ–∫–æ–≤ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π (–∫–æ–ø–∏—è `Index.tsx` —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π):

**–û—Ç–ª–∏—á–∏—è –æ—Ç —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `parentLessonsData.ts`
- –î—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ (communication, emotional-support, etc)
- –¢–æ–Ω –ö–∞—Ç–∏ –ö–∞—Ä–ø–µ–Ω–∫–æ –±–æ–ª–µ–µ –≤–∑—Ä–æ—Å–ª—ã–π
- –°–æ–≤–µ—Ç—ã –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π, –∞ –Ω–µ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤

**–ß—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- `EnhancedLessonInterface.tsx` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π ‚úÖ
- `LessonComplete.tsx` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π ‚úÖ
- `ModuleRoom.tsx` - –Ω—É–∂–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- State management –∏–∑ `Index.tsx`

**–ß—Ç–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –¶–≤–µ—Ç–∞ –º–æ–¥—É–ª–µ–π (–¥—Ä—É–≥–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π)
- –¢–µ–∫—Å—Ç—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫ –ö–∞—Ç–∏
- –ù–∞–≤–∏–≥–∞—Ü–∏—è (–Ω–µ /lesson/:id, –∞ /parent-learning/lesson/:id)

**–ó–∞–¥–∞—á–∞ Sonnet –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è:**
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `Index.tsx`
- –ó–∞–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –Ω–∞ `parentLessonsData`
- –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ—É—Ç–∏–Ω–≥
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å UI –ø–æ –¥–∏–∑–∞–π–Ω—É Opus

---

### 4. Family Links API üì¢ –ù–£–ñ–ï–ù OPUS

**–§–∞–π–ª—ã:** 
- `backend/server.py` (–¥–æ–±–∞–≤–∏—Ç—å endpoints)
- MongoDB –∫–æ–ª–ª–µ–∫—Ü–∏—è `family_links`

**–ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç Opus:**

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã —Å–≤—è–∑—ã–≤–∞–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å-—Ä–µ–±–µ–Ω–æ–∫:

**Endpoint 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–º**
```python
@api_router.post("/family/generate-link-code")
async def generate_family_link_code(student_id: str):
    """
    –°—Ç—É–¥–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
    –†–æ–¥–∏—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —ç—Ç–æ—Ç –∫–æ–¥ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏
    –ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 7 –¥–Ω–µ–π
    """
    code = generate_6_digit_code()  # –°–ª—É—á–∞–π–Ω—ã–π A-Z0-9
    
    # –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ family_links
    await db.family_links.insert_one({
        "code": code,
        "student_id": student_id,
        "used": False,
        "created_at": datetime.utcnow(),
        "expires_at": datetime.utcnow() + timedelta(days=7)
    })
    
    return {"code": code, "expires_at": expires_at}
```

**Endpoint 2: –ü—Ä–∏–≤—è–∑–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª—è –ø–æ –∫–æ–¥—É**
```python
@api_router.post("/family/link-parent")
async def link_parent_to_child(parent_id: str, code: str):
    """
    –†–æ–¥–∏—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–æ–¥ —Ä–µ–±–µ–Ω–∫–∞
    –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–≤—è–∑—å parent_id ‚Üî student_id
    """
    # –ù–∞–π—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥
    link = await db.family_links.find_one({
        "code": code.upper(),
        "used": False,
        "expires_at": {"$gt": datetime.utcnow()}
    })
    
    if not link:
        raise HTTPException(404, "–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –∏—Å—Ç–µ–∫—à–∏–π –∫–æ–¥")
    
    # –û–±–Ω–æ–≤–∏—Ç—å user —Å—Ç—É–¥–µ–Ω—Ç–∞
    await db.users.update_one(
        {"id": link["student_id"]},
        {"$set": {"parent_id": parent_id}}
    )
    
    # –û—Ç–º–µ—Ç–∏—Ç—å –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º
    await db.family_links.update_one(
        {"code": code},
        {"$set": {"used": True, "parent_id": parent_id}}
    )
    
    return {"message": "–†–µ–±–µ–Ω–æ–∫ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω!"}
```

**Endpoint 3: –ü–æ–ª—É—á–∏—Ç—å —Å–≤—è–∑–∏**
```python
@api_router.get("/family/{user_id}/links")
async def get_family_links(user_id: str):
    """
    –î–ª—è —Ä–æ–¥–∏—Ç–µ–ª—è: —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π
    –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞: –∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥ (–µ—Å–ª–∏ –µ—Å—Ç—å)
    """
    user = await db.users.find_one({"id": user_id})
    
    if user["role"] in ["parent", "parent_learning"]:
        # –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–µ–π
        children = await db.users.find({
            "parent_id": user_id
        }).to_list(100)
        return {"children": children}
        
    elif user["role"] == "student":
        # –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥
        link = await db.family_links.find_one({
            "student_id": user_id,
            "used": False,
            "expires_at": {"$gt": datetime.utcnow()}
        })
        return {"link_code": link}
```

**MongoDB –∫–æ–ª–ª–µ–∫—Ü–∏—è:**
```python
family_links = {
    "_id": ObjectId,
    "code": "ABC123",           # 6 —Å–∏–º–≤–æ–ª–æ–≤
    "student_id": "uuid-student",
    "parent_id": "uuid-parent",  # –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    "used": False,
    "created_at": datetime,
    "expires_at": datetime
}
```

**–ó–∞–¥–∞—á–∞ Sonnet –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `generate_6_digit_code()`
- –°–æ–∑–¥–∞—Ç—å 3 endpoints –≤ `server.py`
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ MongoDB
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–ª–æ—É

---

### 5. AddChild.tsx üì¢ –ù–£–ñ–ï–ù OPUS

**–§–∞–π–ª:** `frontend/src/components/AddChild.tsx` (–Ω–µ —Å–æ–∑–¥–∞–Ω)

**–ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç Opus:**

–î–∏–∑–∞–π–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª—è —á—Ç–æ–±—ã –ø—Ä–∏–≤—è–∑–∞—Ç—å —Ä–µ–±–µ–Ω–∫–∞:

```tsx
<AddChild onClose={onClose} onSuccess={onSuccess}>
  <DialogHeader>
    <Title>–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±–µ–Ω–∫–∞</Title>
    <Description>
      –ü–æ–ø—Ä–æ—Å–∏—Ç–µ —Ä–µ–±–µ–Ω–∫–∞ —Å–æ–∑–¥–∞—Ç—å –∫–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª–µ 
      –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –∑–¥–µ—Å—å
    </Description>
  </DialogHeader>
  
  <Form>
    <Input 
      placeholder="–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥"
      maxLength={6}
      value={code}
      onChange={(e) => setCode(e.target.value.toUpperCase())}
    />
    
    {error && <ErrorMessage>{error}</ErrorMessage>}
    
    <Button 
      onClick={handleLink}
      disabled={code.length !== 6 || loading}
    >
      {loading ? '–ü—Ä–æ–≤–µ—Ä—è–µ–º...' : '–ü—Ä–∏–≤—è–∑–∞—Ç—å —Ä–µ–±–µ–Ω–∫–∞'}
    </Button>
  </Form>
  
  {/* –°–ø–∏—Å–æ–∫ —É–∂–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–µ—Ç–µ–π */}
  <LinkedChildren>
    <h3>–ü—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –¥–µ—Ç–∏:</h3>
    {children.map(child => (
      <ChildRow key={child.id}>
        <Avatar src={child.photo_url} />
        <Name>{child.name}</Name>
        <UnlinkButton onClick={() => handleUnlink(child.id)}>
          –û—Ç–≤—è–∑–∞—Ç—å
        </UnlinkButton>
      </ChildRow>
    ))}
  </LinkedChildren>
</AddChild>
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞ (6 —Å–∏–º–≤–æ–ª–æ–≤, A-Z0-9)
- POST `/api/family/link-parent` –ø—Ä–∏ submit
- –ü–æ–∫–∞–∑ –æ—à–∏–±–æ–∫ (–Ω–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥, –∏—Å—Ç–µ–∫)
- –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–µ—Ç–µ–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–≤—è–∑–∞—Ç—å

**–ó–∞–¥–∞—á–∞ Sonnet –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è:**
- –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ –¥–∏–∑–∞–π–Ω—É
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Dialog –æ—Ç shadcn/ui
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å API
- –î–æ–±–∞–≤–∏—Ç—å –≤ ParentHub

---

### 6. –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è" –≤ Index.tsx

**–§–∞–π–ª:** `frontend/src/pages/Index.tsx` (–Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å)

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**

–í —Å–µ–∫—Ü–∏—é Profile (activeTab === 'profile'):

```tsx
<ProfileSection className="mt-6">
  <h3 className="text-xl font-bold mb-2">
    –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è
  </h3>
  <p className="text-sm text-muted-foreground mb-4">
    –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–¥–æ–º —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º, —á—Ç–æ–±—ã –æ–Ω –º–æ–≥ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –≤–∞—à–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
  </p>
  
  {!familyCode ? (
    <Button onClick={handleGenerateCode}>
      <Plus className="w-4 h-4 mr-2" />
      –°–æ–∑–¥–∞—Ç—å –∫–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
    </Button>
  ) : (
    <Card className="p-4 bg-gradient-to-r from-purple-50 to-pink-50">
      <h4 className="font-bold mb-2">–í–∞—à –∫–æ–¥:</h4>
      <div className="flex items-center gap-2">
        <Code className="text-3xl font-bold">{familyCode}</Code>
        <CopyButton onClick={() => copyToClipboard(familyCode)} />
      </div>
      <p className="text-xs text-muted-foreground mt-2">
        –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ {formatDate(expiresAt)}
      </p>
    </Card>
  )}
</ProfileSection>
```

**–§—É–Ω–∫—Ü–∏–∏:**
```typescript
const handleGenerateCode = async () => {
  const response = await fetch('/api/family/generate-link-code', {
    method: 'POST',
    body: JSON.stringify({ student_id: userId })
  });
  const data = await response.json();
  setFamilyCode(data.code);
  setExpiresAt(data.expires_at);
};
```

**–ó–∞–¥–∞—á–∞ Sonnet:**
- –î–æ–±–∞–≤–∏—Ç—å state –¥–ª—è familyCode
- –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å UI –≤ –ø—Ä–æ—Ñ–∏–ª—å
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –î–ª—è Opus (—Å–µ–π—á–∞—Å):

1. **–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª `OPUS_TASK.md`** - —Ç–∞–º –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
2. **–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —É—Ä–æ–∫–∏:**
   - 20-30 —É—Ä–æ–∫–æ–≤ –ø–æ 4 –º–æ–¥—É–ª—è–º
   - –í–æ–ø—Ä–æ—Å—ã —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
   - –¢–æ–Ω –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
   
3. **–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
   - ParentHub (2 —Ç–∞–±–∞)
   - ParentLearning (–∞–¥–∞–ø—Ç–∞—Ü–∏—è Index.tsx)
   - AddChild (—Ñ–æ—Ä–º–∞ —Å –∫–æ–¥–æ–º)
   
4. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Family Links API:**
   - 3 endpoints
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ MongoDB –∫–æ–ª–ª–µ–∫—Ü–∏–∏
   - –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–æ–≤

5. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–¥/—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ —á–∞—Ç–µ**
   - Opus –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã
   - –ù–∞–ø–∏—à–µ—Ç –≤—Å–µ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
   - Sonnet –ø–æ—Ç–æ–º —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª—ã

---

### –î–ª—è Sonnet (–ø–æ—Å–ª–µ Opus):

1. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∏–∑–∞–π–Ω –æ—Ç Opus** (–∏–∑ —á–∞—Ç–∞ –∏–ª–∏ —Ñ–∞–π–ª–∞ OPUS_TASK.md –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ)
2. **–ò–∑—É—á–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
3. **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã:**
   - `parentLessonsData.ts`
   - `ParentHub.tsx`
   - `ParentLearning.tsx`
   - `AddChild.tsx`
   - Endpoints –≤ `server.py`
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å:**
   - –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç—ã –≤ `App.tsx`
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å API
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
5. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏**
6. **–ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å**

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é

- [ ] –í—Å–µ —É—Ä–æ–∫–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π —Å–æ–∑–¥–∞–Ω—ã
- [ ] ParentHub —Ä–∞–±–æ—Ç–∞–µ—Ç (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + –æ–±—É—á–µ–Ω–∏–µ)
- [ ] ParentLearning —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤)
- [ ] Family Links —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–æ–¥—ã, –ø—Ä–∏–≤—è–∑–∫–∞)
- [ ] AddChild —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤–≤–æ–¥ –∫–æ–¥–∞, —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π)
- [ ] –ö–Ω–æ–ø–∫–∞ –≤ Index.tsx —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] DEV_MODE = false –≤ App.tsx
- [ ] TELEGRAM_BOT_TOKEN –≤ .env
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è HMAC –≤–∫–ª—é—á–µ–Ω–∞
- [ ] Backend –∑–∞–¥–µ–ø–ª–æ–µ–Ω (Railway/Render)
- [ ] Frontend –∑–∞–¥–µ–ø–ª–æ–µ–Ω (GitHub Pages)
- [ ] MongoDB –≤ –æ–±–ª–∞–∫–µ (MongoDB Atlas)

---

## üîó –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –î–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤ (—á–∏—Ç–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å):
1. **AGENTS.md** (1200+ —Å—Ç—Ä–æ–∫) - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
2. **OPUS_TASK.md** - —Ç–µ–∫—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ
3. **OPUS-SONNET-ROADMAP.md** - —ç—Ç–æ—Ç —Ñ–∞–π–ª
4. **.github/copilot-instructions.md** - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞

### –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–¥–∞:
1. **frontend/src/App.tsx** - —Ä–æ—É—Ç–∏–Ω–≥ –∏ ProtectedRoute
2. **frontend/src/data/allLessonsData.ts** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—Ä–æ–∫–æ–≤
3. **frontend/src/pages/Index.tsx** - –≥–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å—Ç—É–¥–µ–Ω—Ç–∞
4. **backend/server.py** - –≤—Å–µ API endpoints
5. **backend/models.py** - –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### –î–ª—è –¥–µ–ø–ª–æ—è:
1. **README.md** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
2. **DEPLOYMENT_GUIDE.md** - –≥–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ—é
3. **.github/workflows/deploy.yml** - CI/CD –¥–ª—è GitHub Pages

---

## üí° –°–æ–≤–µ—Ç—ã –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤

### –ï—Å–ª–∏ –≤—ã Opus:
- –ß–∏—Ç–∞–π—Ç–µ `OPUS_TASK.md` –ø–µ—Ä–µ–¥ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞–∫ –æ–±—Ä–∞–∑–µ—Ü (allLessonsData.ts)
- –ü–∏—à–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è Sonnet
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

### –ï—Å–ª–∏ –≤—ã Sonnet:
- **–í–°–ï–ì–î–ê** —á–∏—Ç–∞–π—Ç–µ AGENTS.md –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã
- –ò—â–∏—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –ö–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –Ω–µ –∏–∑–æ–±—Ä–µ—Ç–∞–π—Ç–µ –≤–µ–ª–æ—Å–∏–ø–µ–¥
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get_errors` –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤

### –ï—Å–ª–∏ –≤—ã –¥—Ä—É–≥–æ–π –∞–≥–µ–Ω—Ç:
- –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç - Telegram Mini App, –Ω–µ –æ–±—ã—á–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- MongoDB Motor —Ç—Ä–µ–±—É–µ—Ç `await` –Ω–∞ –í–°–ï–• –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- ProtectedRoute –∏–º–µ–µ—Ç DEV —Ä–µ–∂–∏–º (–æ—Ç–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–¥ production)
- –í—Å–µ —Ä–æ—É—Ç—ã —Å basename `/my-teens-space-c8a9ba43/`

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 10 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** Sonnet (Agent Mode)  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ–º –¥–∏–∑–∞–π–Ω –æ—Ç Opus –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è  

üíú **MyTeens.Space** - –ø–æ–º–æ–≥–∞–µ–º –ø–æ–¥—Ä–æ—Å—Ç–∫–∞–º –∏ —Ä–æ–¥–∏—Ç–µ–ª—è–º —Ä–∞—Å—Ç–∏ –≤–º–µ—Å—Ç–µ!
